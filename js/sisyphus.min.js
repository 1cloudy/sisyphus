(function($){$.fn.sisyphus=function(){p(this)};function p(c){if(!I()){return false}var d=window.location.hostname+window.location.pathname;$(c).each(function(){var a=$(this);var b=a.find(':input');B(b,a,d);R(b,a,d)})}function B(c,d,e){c.each(function(){var a=e+d[0].id+this.name;var b=localStorage.getItem(a);if(b){E(this,b)}N(this,a)})}function E(a,b){if(a.name.indexOf('[')==-1){a.value=b}else{b=b.split(',');$(a).val(b)}if(a.type=='checkbox'&&b!='false'&&a.name.indexOf('[')==-1){a.checked=true}}function N(b,c){if($(b).is(':text')||$(b).is('textarea')){b.oninput=function(){try{localStorage.setItem(c,b.value)}catch(e){}}}else{b.onchange=function(){var a=$(b).val();if(b.type=='checkbox'){if(b.name.indexOf('[')!=-1){a=[];$('[name="'+b.name+'"]:checked').each(function(){a.push(this.value)})}else{a=$(b).is(':checked')}}try{localStorage.setItem(c,a)}catch(e){}}}}function R(a,b,c){b.submit(function(){D(a,b,c)});b.bind('reset',function(){D(a,b,c)})}function D(b,c,d){b.each(function(){var a=d+c[0].id+this.name;localStorage.removeItem(a)})}function I(){try{return'localStorage'in window&&window['localStorage']!==null}catch(e){return false}}})(jQuery);