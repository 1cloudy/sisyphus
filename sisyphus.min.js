(function(a,b){function c(b,c){if(!l())return!1;var e=location.hostname+location.pathname+location.search;a(b).each(function(){var b=a(this),f=b.find(":input");d(f,b,e,c),j(f,b,e,c)})}function d(b,c,d,g){var h=!1;b.each(function(){field=a(this);var b=d+c[0].id+field.attr("name")+g.customKeyPrefix,i=localStorage.getItem(b);i&&(e(field,i,g),h=!0),f(field,b,g)}),h&&a.isFunction(g.onRestoreCallback)&&g.onRestoreCallback.call()}function e(b,c,d){b.is(":checkbox")&&c!=="false"&&b.attr("name").indexOf("[")===-1?b.attr("checked","checked"):b.is(":radio")?b.val()===c&&a(b).attr("checked","checked"):b.attr("name").indexOf("[")===-1?b.val(c):(c=c.split(","),a(b).val(c))}function f(a,b,c){a.is(":text")||a.is("textarea")?c.timeout?h(a,b,c):g(a,b,c):i(a,b,c)}function g(b,c,d){a.browser.msie==null?b.get(0).oninput=function(){try{localStorage.setItem(c,b.val())}catch(e){}a.isFunction(d.onSaveCallback)&&d.onSaveCallback.call()}:b.get(0).onpropertychange=function(){try{localStorage.setItem(c,b.val()+"")}catch(e){}b.val()!=""&&a.isFunction(d.onSaveCallback)&&d.onSaveCallback.call()}}function h(b,c,d){setTimeout(function(b){function e(){try{localStorage.setItem(c,b.val())}catch(f){}a.isFunction(d.onSaveCallback)&&d.onSaveCallback.call(),setTimeout(e,d.timeout*1e3)}return e}(b),d.timeout*1e3)}function i(b,c,d){b.change(function(){var e=b.val();b.is(":checkbox")&&(b.attr("name").indexOf("[")!=-1?(e=[],a("[name='"+b.attr("name")+"']:checked").each(function(){e.push(a(this).val())})):e=b.is(":checked")),b.is(":radio")&&(e=b.val());try{localStorage.setItem(c,e)}catch(f){}a.isFunction(d.onSaveCallback)&&d.onSaveCallback.call()})}function j(a,b,c,d){b.bind("submit reset",function(){k(a,b,c,d)})}function k(b,c,d,e){var f=!1;b.each(function(){var a=d+c[0].id+this.name;localStorage.removeItem(a),f=!0}),f&&a.isFunction(e.onReleaseDataCallback)&&e.onReleaseDataCallback.call()}function l(){try{return localStorage.getItem}catch(a){return!1}}a.fn.sisyphus=function(b){b=a.extend(a.fn.sisyphus.defaults,b),c(this,b),a.fn.sisyphus.action=null},a.fn.sisyphus.defaults={excludeFields:null,customKeyPrefix:"",timeout:0,onSaveCallback:function(){},onRestoreCallback:function(){},onReleaseDataCallback:function(){}}})(jQuery,window)